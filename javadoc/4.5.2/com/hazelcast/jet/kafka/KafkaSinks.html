<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (14) on Thu Dec 16 14:05:17 CET 2021 -->
<title>KafkaSinks (hazelcast-jet-distribution 4.5.2 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-12-16">
<meta name="description" content="declaration: package: com.hazelcast.jet.kafka, class: KafkaSinks">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":9,"i1":9,"i2":9,"i3":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KafkaSinks.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.hazelcast.jet.kafka</a></div>
<h1 title="Class KafkaSinks" class="title">Class KafkaSinks</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a>
<div class="inheritance">com.hazelcast.jet.kafka.KafkaSinks</div>
</div>
<section class="description">
<hr>
<pre>public final class <span class="typeNameLabel">KafkaSinks</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">Contains factory methods for Apache Kafka sinks.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>3.0</dd>
</dl>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li class="blockList">
<section class="nestedClassSummary"><a id="nested.class.summary">
<!--   -->
</a>
<h2>Nested Class Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="KafkaSinks.Builder.html" title="class in com.hazelcast.jet.kafka">KafkaSinks.Builder</a>&lt;<a href="KafkaSinks.Builder.html" title="type parameter in KafkaSinks.Builder">E</a>&gt;</span></code></th>
<td class="colLast">
<div class="block">A builder for Kafka sink.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>static &lt;E&gt;&nbsp;<a href="KafkaSinks.Builder.html" title="class in com.hazelcast.jet.kafka">KafkaSinks.Builder</a>&lt;E&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#kafka(java.util.Properties)">kafka</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util" class="externalLink">Properties</a>&nbsp;properties)</code></th>
<td class="colLast">
<div class="block">Returns a builder object that you can use to create an Apache Kafka
 pipeline sink.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>static &lt;E,&#8203;
K,&#8203;
V&gt;&nbsp;<a href="../pipeline/Sink.html" title="interface in com.hazelcast.jet.pipeline">Sink</a>&lt;E&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#kafka(java.util.Properties,com.hazelcast.function.FunctionEx)">kafka</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util" class="externalLink">Properties</a>&nbsp;properties,
<a href="../../function/FunctionEx.html" title="interface in com.hazelcast.function">FunctionEx</a>&lt;? super E,&#8203;org.apache.kafka.clients.producer.ProducerRecord&lt;K,&#8203;V&gt;&gt;&nbsp;toRecordFn)</code></th>
<td class="colLast">
<div class="block">Returns a sink that publishes messages to Apache Kafka topic(s).</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>static &lt;K,&#8203;
V&gt;&nbsp;<a href="../pipeline/Sink.html" title="interface in com.hazelcast.jet.pipeline">Sink</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util" class="externalLink">Map.Entry</a>&lt;K,&#8203;V&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#kafka(java.util.Properties,java.lang.String)">kafka</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util" class="externalLink">Properties</a>&nbsp;properties,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;topic)</code></th>
<td class="colLast">
<div class="block">Convenience for <a href="#kafka(java.util.Properties,java.lang.String,com.hazelcast.function.FunctionEx,com.hazelcast.function.FunctionEx)"><code>kafka(Properties, String, FunctionEx, FunctionEx)</code></a>
 which expects <code>Map.Entry&lt;K, V&gt;</code> as input and extracts its key and value
 parts to be published to Kafka.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>static &lt;E,&#8203;
K,&#8203;
V&gt;&nbsp;<a href="../pipeline/Sink.html" title="interface in com.hazelcast.jet.pipeline">Sink</a>&lt;E&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#kafka(java.util.Properties,java.lang.String,com.hazelcast.function.FunctionEx,com.hazelcast.function.FunctionEx)">kafka</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util" class="externalLink">Properties</a>&nbsp;properties,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;topic,
<a href="../../function/FunctionEx.html" title="interface in com.hazelcast.function">FunctionEx</a>&lt;? super E,&#8203;K&gt;&nbsp;extractKeyFn,
<a href="../../function/FunctionEx.html" title="interface in com.hazelcast.function">FunctionEx</a>&lt;? super E,&#8203;V&gt;&nbsp;extractValueFn)</code></th>
<td class="colLast">
<div class="block">Convenience for <a href="#kafka(java.util.Properties,com.hazelcast.function.FunctionEx)"><code>kafka(Properties, FunctionEx)</code></a> which creates
 a <code>ProducerRecord</code> using the given topic and the given key and value
 mapping functions</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="kafka(java.util.Properties,com.hazelcast.function.FunctionEx)">kafka</a></h3>
<div class="memberSignature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
</span><span class="modifiers">public static</span>&nbsp;<span class="typeParameters">&lt;E,&#8203;
K,&#8203;
V&gt;</span>&nbsp;<span class="returnType"><a href="../pipeline/Sink.html" title="interface in com.hazelcast.jet.pipeline">Sink</a>&lt;E&gt;</span>&nbsp;<span class="memberName">kafka</span>&#8203;(<span class="arguments"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util" class="externalLink">Properties</a>&nbsp;properties,
<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
<a href="../../function/FunctionEx.html" title="interface in com.hazelcast.function">FunctionEx</a>&lt;? super E,&#8203;org.apache.kafka.clients.producer.ProducerRecord&lt;K,&#8203;V&gt;&gt;&nbsp;toRecordFn)</span></div>
<div class="block">Returns a sink that publishes messages to Apache Kafka topic(s). It
 transforms each received item to a <code>ProducerRecord</code> using the
 supplied mapping function.
 <p>
 The sink creates a single <code>KafkaProducer</code> per processor using
 the supplied <code>properties</code>.
 <p>
 The behavior depends on the job's processing guarantee:
 <ul>
     <li><em>EXACTLY_ONCE:</em> the sink will use Kafka transactions to
     commit the messages. Transactions are committed after a snapshot is
     completed. This increases the latency of the messages because they
     are only visible to consumers after they are committed and slightly
     reduces the throughput because no messages are sent between the
     snapshot phases.
     <p>
     When using transactions pay attention to your <code>
     transaction.timeout.ms</code> config property. It limits the entire
     duration of the transaction since it is begun, not just inactivity
     timeout. It must not be smaller than your snapshot interval,
     otherwise the Kafka broker will roll the transaction back before Jet
     is done with it. Also it should be large enough so that Jet has time
     to restart after a failure: a member can crash just before it's
     about to commit, and Jet will attempt to commit the transaction
     after the restart, but the transaction must be still waiting in the
     broker. The default in Kafka 2.4 is 1 minute.
     <p>
     Also keep in mind the consumers need to use <code>
     isolation.level=read_committed</code>, which is not the default. Otherwise
     the consumers will see duplicate messages.

     <li><em>AT_LEAST_ONCE:</em> messages are committed immediately, the
     sink ensure that all async operations are done at 1st snapshot
     phase. This ensures that each message is written if the job fails,
     but might be written again after the job restarts.
 </ul>

 If you want to avoid the overhead of transactions, you can reduce the
 guarantee just for the sink. To do so, use the builder version and call
 <a href="KafkaSinks.Builder.html#exactlyOnce(boolean)"><code>exactlyOnce(false)</code></a> on the builder.
 <p>
 IO failures are generally handled by Kafka producer and do not cause the
 processor to fail. Refer to Kafka documentation for details.
 <p>
 The default local parallelism for this processor is 1.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>E</code> - type of stream item</dd>
<dd><code>K</code> - type of the key published to Kafka</dd>
<dd><code>V</code> - type of the value published to Kafka</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>properties</code> - producer properties which should contain broker
                       address and key/value serializers</dd>
<dd><code>toRecordFn</code> - function that extracts the key from the stream item</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="kafka(java.util.Properties,java.lang.String,com.hazelcast.function.FunctionEx,com.hazelcast.function.FunctionEx)">kafka</a></h3>
<div class="memberSignature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
</span><span class="modifiers">public static</span>&nbsp;<span class="typeParameters">&lt;E,&#8203;
K,&#8203;
V&gt;</span>&nbsp;<span class="returnType"><a href="../pipeline/Sink.html" title="interface in com.hazelcast.jet.pipeline">Sink</a>&lt;E&gt;</span>&nbsp;<span class="memberName">kafka</span>&#8203;(<span class="arguments"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util" class="externalLink">Properties</a>&nbsp;properties,
<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;topic,
<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
<a href="../../function/FunctionEx.html" title="interface in com.hazelcast.function">FunctionEx</a>&lt;? super E,&#8203;K&gt;&nbsp;extractKeyFn,
<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
<a href="../../function/FunctionEx.html" title="interface in com.hazelcast.function">FunctionEx</a>&lt;? super E,&#8203;V&gt;&nbsp;extractValueFn)</span></div>
<div class="block">Convenience for <a href="#kafka(java.util.Properties,com.hazelcast.function.FunctionEx)"><code>kafka(Properties, FunctionEx)</code></a> which creates
 a <code>ProducerRecord</code> using the given topic and the given key and value
 mapping functions</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>E</code> - type of stream item</dd>
<dd><code>K</code> - type of the key published to Kafka</dd>
<dd><code>V</code> - type of the value published to Kafka</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>properties</code> - producer properties which should contain broker
                       address and key/value serializers</dd>
<dd><code>topic</code> - name of the Kafka topic to publish to</dd>
<dd><code>extractKeyFn</code> - function that extracts the key from the stream item</dd>
<dd><code>extractValueFn</code> - function that extracts the value from the stream item</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="kafka(java.util.Properties,java.lang.String)">kafka</a></h3>
<div class="memberSignature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
</span><span class="modifiers">public static</span>&nbsp;<span class="typeParameters">&lt;K,&#8203;
V&gt;</span>&nbsp;<span class="returnType"><a href="../pipeline/Sink.html" title="interface in com.hazelcast.jet.pipeline">Sink</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util" class="externalLink">Map.Entry</a>&lt;K,&#8203;V&gt;&gt;</span>&nbsp;<span class="memberName">kafka</span>&#8203;(<span class="arguments"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util" class="externalLink">Properties</a>&nbsp;properties,
<a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;topic)</span></div>
<div class="block">Convenience for <a href="#kafka(java.util.Properties,java.lang.String,com.hazelcast.function.FunctionEx,com.hazelcast.function.FunctionEx)"><code>kafka(Properties, String, FunctionEx, FunctionEx)</code></a>
 which expects <code>Map.Entry&lt;K, V&gt;</code> as input and extracts its key and value
 parts to be published to Kafka.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - type of the key published to Kafka</dd>
<dd><code>V</code> - type of the value published to Kafka</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>properties</code> - producer properties which should contain broker
                   address and key/value serializers</dd>
<dd><code>topic</code> - Kafka topic name to publish to</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="kafka(java.util.Properties)">kafka</a></h3>
<div class="memberSignature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
</span><span class="modifiers">public static</span>&nbsp;<span class="typeParameters">&lt;E&gt;</span>&nbsp;<span class="returnType"><a href="KafkaSinks.Builder.html" title="class in com.hazelcast.jet.kafka">KafkaSinks.Builder</a>&lt;E&gt;</span>&nbsp;<span class="memberName">kafka</span>&#8203;(<span class="arguments"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nonnull</a>
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util" class="externalLink">Properties</a>&nbsp;properties)</span></div>
<div class="block">Returns a builder object that you can use to create an Apache Kafka
 pipeline sink.
 <p>
 The sink creates a single <code>KafkaProducer</code> per processor using
 the supplied <code>properties</code>.
 <p>
 The behavior depends on the job's processing guarantee:
 <ul>
     <li><em>EXACTLY_ONCE:</em> the sink will use Kafka transactions to
     commit the messages. This brings some overhead on the broker side,
     slight throughput reduction (we don't send messages between snapshot
     phases) and, most importantly, increases the latency of the messages
     because they are only visible to consumers after they are committed.
     <p>
     When using transactions pay attention to your <code>
     transaction.timeout.ms</code> config property. It limits the entire
     duration of the transaction since it is begun, not just inactivity
     timeout. It must not be smaller than your snapshot interval,
     otherwise the Kafka broker will roll the transaction back before Jet
     is done with it. Also it should be large enough so that Jet has time
     to restart after a failure: a member can crash just before it's
     about to commit, and Jet will attempt to commit the transaction
     after the restart, but the transaction must be still waiting in the
     broker. The default in Kafka 2.4 is 1 minute.

     <li><em>AT_LEAST_ONCE:</em> messages are committed immediately, the
     sink ensure that all async operations are done at 1st snapshot
     phase. This ensures that each message is written if the job fails,
     but might be written again after the job restarts.
 </ul>

 If you want to avoid the overhead of transactions, you can reduce the
 guarantee just for the sink by calling <a href="KafkaSinks.Builder.html#exactlyOnce(boolean)"><code>exactlyOnce(false)</code></a> on the returned builder.
 <p>
 IO failures are generally handled by Kafka producer and do not cause the
 processor to fail. Refer to Kafka documentation for details.
 <p>
 Default local parallelism for this processor is 1.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>E</code> - type of stream item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>properties</code> - producer properties which should contain broker
                       address and key/value serializers</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KafkaSinks.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2021 <a href="http://www.hazelcast.com/">Hazelcast, Inc.</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
