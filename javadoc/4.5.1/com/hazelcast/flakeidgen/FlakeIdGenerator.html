<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (14) on Fri Sep 10 08:25:44 CEST 2021 -->
<title>FlakeIdGenerator (hazelcast-jet-distribution 4.5.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-09-10">
<meta name="description" content="declaration: package: com.hazelcast.flakeidgen, interface: FlakeIdGenerator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FlakeIdGenerator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.hazelcast.flakeidgen</a></div>
<h1 title="Interface FlakeIdGenerator" class="title">Interface FlakeIdGenerator</h1>
</div>
<div class="contentContainer">
<section class="description">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="../core/DistributedObject.html" title="interface in com.hazelcast.core">DistributedObject</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">FlakeIdGenerator</span>
extends <a href="../core/DistributedObject.html" title="interface in com.hazelcast.core">DistributedObject</a></pre>
<div class="block">A cluster-wide unique ID generator. Generated IDs are <code>long</code> primitive values and are
 k-ordered (roughly ordered). IDs are in the range from <code>0</code> to <code>Long.MAX_VALUE</code> (they
 can be negative in <a href="../config/FlakeIdGeneratorConfig.html#setEpochStart(long)">a special case</a>).

 <p>The IDs contain a timestamp component and a node ID component, which is assigned when the
 member joins the cluster. This allows the IDs to be ordered and unique without any coordination
 between members, which makes the generator safe even in split-brain scenario (for caveats,
 see here).

 <p>The layout of the generate IDs is as follows (starting from most significant bits):<ul>
     <li>timestamp bits (41 by default)
     <li>sequence bits (6 by default)
     <li>node ID bits (16 by default)
 </ul>

 You can configure the number of <a href="../config/FlakeIdGeneratorConfig.html#setBitsSequence(int)">sequence
 bits</a> and of <a href="../config/FlakeIdGeneratorConfig.html#setBitsNodeId(int)">node ID bits</a>. Timestamp bits
 are assigned in a way that all three components add to 63. It is an error to assign sequence and
 node ID bits that exceed 63.

 <p>You can tweak bits assigned to each component according to your use case using <a href="../config/FlakeIdGeneratorConfig.html" title="class in com.hazelcast.config"><code>FlakeIdGeneratorConfig</code></a>:

 <p><b>Timestamp bits</b>

 <p>The number of bits assigned to this component determines the lifespan of the generator. For
 example the 41 bits assigned by default allow the generator to generate IDs during about 70 years
 (or 140 years, if you can tolerate negative IDs). Along with <a href="../config/FlakeIdGeneratorConfig.html#setEpochStart(long)">epoch start</a>, which is at the beginning of 2018 by
 default and is also configurable, you can determine when the generator will run out. By default
 it runs out slightly before the end of 2088.

 <p><b>Sequence bits</b>

 <p>The number of bits assigned to the sequence component determines how many IDs can be generated
 per millisecond. The default value of 6, for example, allows to generate 64 IDs per millisecond
 (2^6). That is 64000 IDs per second. If you don't need this many IDs, you can reduce the sequence
 bits and allocate more for node ID or timestamp.

 <p>If more than 64 IDs are requested in a single millisecond, IDs will gracefully overflow to the
 next millisecond and uniqueness is guaranteed in this case. The implementation does not allow
 overflowing by more than certain number of seconds, <a href="../config/FlakeIdGeneratorConfig.html#setAllowedFutureMillis(long)">15 by default</a>; if IDs are requested at a
 higher rate, the call will block. Note, however, that clients might be able to generate faster
 because each call goes to a different (random) member and the 64 IDs/ms limit is for a single
 member.

 <p><b>Node ID bits</b>

 <p>This component determines mostly how many changes in the cluster we can tolerate. Default node
 ID component has 16 bits. Members with member list join version higher than 2^16 won't be able to
 generate IDs, but functionality will be preserved by forwarding to another member. It is possible
 to generate IDs on any member or client as long as there is at least one member with join version
 smaller than 2^16 in the cluster. The only remedy is to restart the cluster: nodeId will be
 assigned from zero again. Uniqueness after the restart will be preserved thanks to the timestamp
 component.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>3.10</dd>
</dl>
</section>
<section class="summary">
<ul class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">Abstract Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newId()">newId</a></span>()</code></th>
<td class="colLast">
<div class="block">Generates and returns a cluster-wide unique ID.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;com.hazelcast.core.<a href="../core/DistributedObject.html" title="interface in com.hazelcast.core">DistributedObject</a></h3>
<a id="methods.inherited.from.class.com.hazelcast.core.DistributedObject">
<!--   -->
</a><code><a href="../core/DistributedObject.html#destroy()">destroy</a>, <a href="../core/DistributedObject.html#getDestroyContextForTenant()">getDestroyContextForTenant</a>, <a href="../core/DistributedObject.html#getName()">getName</a>, <a href="../core/DistributedObject.html#getPartitionKey()">getPartitionKey</a>, <a href="../core/DistributedObject.html#getServiceName()">getServiceName</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="newId()">newId</a></h3>
<div class="memberSignature"><span class="returnType">long</span>&nbsp;<span class="memberName">newId</span>()</div>
<div class="block">Generates and returns a cluster-wide unique ID.
 <p>
 Operation on a member is always local, if the member has valid node ID, otherwise it's remote. On
 client, this method goes to a random member and gets a batch of IDs, which will then be returned
 locally for limited time. The pre-fetch size and the validity time can be configured for
 each client and member, see <a href="../config/Config.html#addFlakeIdGeneratorConfig(com.hazelcast.config.FlakeIdGeneratorConfig)"><code>here</code></a> for member config and see <code>ClientConfig.addFlakeIdGeneratorConfig()</code> for client config.
 <p>
 <b>Note:</b> Values returned from this method may be not strictly ordered.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>new cluster-wide unique ID</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../core/HazelcastException.html" title="class in com.hazelcast.core">HazelcastException</a></code> - thrown if:<ul>
     <li>node ID for all members in the cluster is out of valid range.
        See "Node ID overflow" in <a href="FlakeIdGenerator.html" title="interface in com.hazelcast.flakeidgen">class documentation</a> for more details.
     <li>if the lifespan of the generator is over
   </ul></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FlakeIdGenerator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2021 <a href="http://www.hazelcast.com/">Hazelcast, Inc.</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
