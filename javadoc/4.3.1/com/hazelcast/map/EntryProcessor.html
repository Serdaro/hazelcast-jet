<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (15) on Wed Mar 10 10:12:22 CET 2021 -->
<title>EntryProcessor (hazelcast-jet-distribution 4.3.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-03-10">
<meta name="description" content="declaration: package: com.hazelcast.map, interface: EntryProcessor">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":18,"i1":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/EntryProcessor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.hazelcast.map</a></div>
<h1 title="Interface EntryProcessor" class="title">Interface EntryProcessor&lt;K,&#8203;V,&#8203;R&gt;</h1>
</div>
<section class="description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>K</code> - map entry key type</dd>
<dd><code>V</code> - map entry value type</dd>
<dd><code>R</code> - return type</dd>
</dl>
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code></dd>
</dl>
<dl class="notes">
<dt>Functional Interface:</dt>
<dd>This is a functional interface and can therefore be used as the assignment target for a lambda expression or method reference.</dd>
</dl>
<hr>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html" title="class or interface in java.lang" class="external-link">@FunctionalInterface</a>
public interface <span class="type-name-label">EntryProcessor&lt;K,&#8203;V,&#8203;R&gt;</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></pre>
<div class="block">An EntryProcessor processes a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html" title="class or interface in java.util" class="external-link"><code>Map.Entry</code></a>.
 The <code>EntryProcessor</code>'s <a href="#process(java.util.Map.Entry)"><code>process(Entry)</code></a> method is executed atomically.
 This obviates the need to explicitly lock as would be required with a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link"><code>ExecutorService</code></a>.
 <p>
 Performance can be very high as the data is not moved off the Member partition. This avoids network cost and, if
 the storage format is <a href="../config/InMemoryFormat.html#OBJECT"><code>InMemoryFormat.OBJECT</code></a>, then there is no de-serialization or serialization
 cost.
 <p>
 EntryProcessors execute on the partition thread in a member. Multiple operations on the same partition are queued
 and executed sequentially.
 <p>
 While executing partition migrations are not allowed. Any migrations are queued on the partition thread.
 <p>
 An EntryProcessor may not be re-entrant i.e. it may not access the same <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link"><code>Map</code></a>. Limitation: you can only access
 data on the same partition.
 <p>
 Note that to modify an entry by using EntryProcessors you should explicitly call the
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html#setValue(V)" title="class or interface in java.util" class="external-link"><code>Map.Entry.setValue(V)</code></a> method of <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html" title="class or interface in java.util" class="external-link"><code>Map.Entry</code></a> such as:
 <pre>
 <code>
 Override
     public Object process(Map.Entry entry) {
        Value value = entry.getValue();
        // process and modify value
        // ...
        entry.setValue(value);
        return result;
    }
 </code>
 </pre>
 otherwise EntryProcessor does not guarantee that it will modify the entry.
<p>
 EntryProcessor instances can be shared between threads. If an EntryProcessor instance contains mutable state, proper
 concurrency control needs to be provided to coordinate access to mutable state. Another option is to rely
 on <code>ThreadLocal</code>s.
 <p>
 Since Hazelcast 4.0.3, an instance of <a href="ExtendedMapEntry.html" title="interface in com.hazelcast.map"><code>ExtendedMapEntry</code></a> is provided as argument in <a href="#process(java.util.Map.Entry)"><code>process(Entry)</code></a>
 method:
 <pre>
 <code>
 class IncrementWithOptionalTtl implements EntryProcessor&lt;Integer, Integer, Void&gt; {
     private final long ttlSeconds;

     public IncrementWithOptionalTtl(long ttlSeconds) {
         this.ttlSeconds = ttlSeconds;
     }

     @Override
     public Void process(Map.Entry&lt;Integer, Integer&gt; e) {
         ExtendedMapEntry&lt;Integer, Integer&gt; entry = (ExtendedMapEntry&lt;Integer, Integer&gt;) e;
         int newValue = entry.getValue() + 1;
         if (ttlSeconds &gt; 0) {
             entry.setValue(newValue, ttlSeconds, TimeUnit.SECONDS);
         } else {
             entry.setValue(newValue);
         }
         return null;
     }
 }
 </code>
 </pre></div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="ExtendedMapEntry.html" title="interface in com.hazelcast.map"><code>ExtendedMapEntry</code></a></dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="table-tab" onclick="show(4);">Abstract Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t5" class="table-tab" onclick="show(16);">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code>default <a href="EntryProcessor.html" title="interface in com.hazelcast.map">EntryProcessor</a>&lt;<a href="EntryProcessor.html" title="type parameter in EntryProcessor">K</a>,&#8203;<a href="EntryProcessor.html" title="type parameter in EntryProcessor">V</a>,&#8203;<a href="EntryProcessor.html" title="type parameter in EntryProcessor">R</a>&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getBackupProcessor()">getBackupProcessor</a></span>()</code></th>
<td class="col-last">
<div class="block">Get the entry processor to be applied to backup entries.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code><a href="EntryProcessor.html" title="type parameter in EntryProcessor">R</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#process(java.util.Map.Entry)">process</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html" title="class or interface in java.util" class="external-link">Map.Entry</a>&lt;<a href="EntryProcessor.html" title="type parameter in EntryProcessor">K</a>,&#8203;<a href="EntryProcessor.html" title="type parameter in EntryProcessor">V</a>&gt;&nbsp;entry)</code></th>
<td class="col-last">
<div class="block">Process the entry without worrying about concurrency.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="process(java.util.Map.Entry)">
<h3>process</h3>
<div class="member-signature"><span class="return-type"><a href="EntryProcessor.html" title="type parameter in EntryProcessor">R</a></span>&nbsp;<span class="member-name">process</span>&#8203;(<span class="parameters"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html" title="class or interface in java.util" class="external-link">Map.Entry</a>&lt;<a href="EntryProcessor.html" title="type parameter in EntryProcessor">K</a>,&#8203;<a href="EntryProcessor.html" title="type parameter in EntryProcessor">V</a>&gt;&nbsp;entry)</span></div>
<div class="block">Process the entry without worrying about concurrency.
 <p>
 Note that to modify an entry by using an EntryProcessor you should
 explicitly call <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html#setValue(V)" title="class or interface in java.util" class="external-link"><code>setValue()</code></a> method of <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html" title="class or interface in java.util" class="external-link"><code>Map.Entry</code></a>,
 for example:
 <pre>
       @Override
        public Object process(Map.Entry entry) {
          Value value = entry.getValue();
          // process and modify value
          // ...
          entry.setValue(value);
          return result;
        }
 </pre>
 otherwise the <code>EntryProcessor</code> does not guarantee to modify the entry.
 <p>
 The entry's value will be <code>null</code>, if the entry for the key doesn't
 exist. You can create new mapping by setting a non-null value or remove
 existing mapping entry by setting the value to <code>null</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entry</code> - entry to be processed</dd>
<dt>Returns:</dt>
<dd>a result that will be returned from the method taking the
 <a href="EntryProcessor.html" title="interface in com.hazelcast.map"><code>EntryProcessor</code></a>, such as
 <a href="IMap.html#executeOnKey(K,com.hazelcast.map.EntryProcessor)"><code>IMap.executeOnKey()</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getBackupProcessor()">
<h3>getBackupProcessor</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nullable.html" title="class or interface in javax.annotation" class="external-link">@Nullable</a>
</span><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="EntryProcessor.html" title="interface in com.hazelcast.map">EntryProcessor</a>&lt;<a href="EntryProcessor.html" title="type parameter in EntryProcessor">K</a>,&#8203;<a href="EntryProcessor.html" title="type parameter in EntryProcessor">V</a>,&#8203;<a href="EntryProcessor.html" title="type parameter in EntryProcessor">R</a>&gt;</span>&nbsp;<span class="member-name">getBackupProcessor</span>()</div>
<div class="block">Get the entry processor to be applied to backup entries.
 <p>
 In case of a readonly execution, <code>null</code> can be returned to indicate
 that no backups should be made.
 <p>
 Note that there is a possibility which an <code>EntryProcessor</code> can see
 that a key exists but its backup processor may not find it at run time due
 to an unsent backup of a previous operation (e.g. a previous put). In
 those situations, Hazelcast internally/eventually will sync those owner
 and backup partitions so you will not lose any data.
 When coding an backup entry processor, you should take that case into
 account, otherwise <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link"><code>NullPointerException</code></a>s can be seen
 since <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html#getValue()" title="class or interface in java.util" class="external-link"><code>Map.Entry.getValue()</code></a> may return null.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the backup entry processor</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/EntryProcessor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
<p class="legal-copy"><small>Copyright &#169; 2021 <a href="http://www.hazelcast.com/">Hazelcast, Inc.</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
