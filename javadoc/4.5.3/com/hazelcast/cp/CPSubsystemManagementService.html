<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (14) on Tue Dec 21 08:36:16 CET 2021 -->
<title>CPSubsystemManagementService (hazelcast-jet-distribution 4.5.3 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-12-21">
<meta name="description" content="declaration: package: com.hazelcast.cp, interface: CPSubsystemManagementService">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CPSubsystemManagementService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.hazelcast.cp</a></div>
<h1 title="Interface CPSubsystemManagementService" class="title">Interface CPSubsystemManagementService</h1>
</div>
<div class="contentContainer">
<section class="description">
<hr>
<pre>public interface <span class="typeNameLabel">CPSubsystemManagementService</span></pre>
<div class="block">This interface offers APIs for managing CP members and groups.
 <p>
 Unlike the dynamic nature of Hazelcast clusters, CP Subsystem requires
 manual intervention while expanding/shrinking its size, or when a CP member
 crashes or becomes unreachable. When a CP member becomes unreachable, it
 is not automatically removed from CP Subsystem because it could be still
 alive and partitioned away.
 <p>
 Moreover, by default CP Subsystem works in memory without persisting any
 state to disk. It means that a crashed CP member will not be able to recover
 by reloading its CP identity and state. Therefore, crashed CP members create
 a danger for gradually losing majority of CP groups and eventually total
 loss of the availability of CP Subsystem. To prevent such situations,
 <a href="CPSubsystemManagementService.html" title="interface in com.hazelcast.cp"><code>CPSubsystemManagementService</code></a> offers a set of APIs. In addition, CP
 Subsystem Persistence can be enabled to make CP members persist their CP
 state to stable storage. Please see <a href="CPSubsystem.html" title="interface in com.hazelcast.cp"><code>CPSubsystem</code></a> and
 <a href="../config/cp/CPSubsystemConfig.html#setPersistenceEnabled(boolean)"><code>CPSubsystemConfig.setPersistenceEnabled(boolean)</code></a> for more details
 about CP Subsystem Persistence.
 <p>
 CP Subsystem relies on Hazelcast's failure detectors to test reachability of
 CP members. Before removing a CP member from CP Subsystem, please make sure
 that it is declared as unreachable by Hazelcast's failure detector and
 removed from Hazelcast cluster's member list.
 <p>
 CP member additions and removals are internally handled by performing
 a single membership change at a time. When multiple CP members are shutting
 down concurrently, their shutdown process is executed serially. When a CP
 membership change is triggered, the METADATA CP group creates a membership
 change plan for CP groups. Then, the scheduled changes are applied to the CP
 groups one by one. After all CP group member removals are done, the shutting
 down CP member is removed from the active CP members list and its shutdown
 process is completed. A shut-down CP member is automatically replaced with
 another available CP member in all of its CP groups, including the METADATA
 CP group, in order not to decrease or more importantly not to lose
 the majority of CP groups. If there is no available CP member to replace
 a shutting down CP member in a CP group, that group's size is reduced by 1
 and its majority value is recalculated. Please note that this behaviour is
 when CP Subsystem Persistence is disabled. When CP Subsystem Persistence is
 enabled, shut-down CP members are not automatically removed from the active
 CP members list and they are still considered as part of CP groups
 and majority calculations, because they can come back by restoring their
 local CP state from stable storage. If you know that a shut-down CP member
 will not be restarted, you need to remove that member from CP Subsystem via
 <a href="#removeCPMember(java.util.UUID)"><code>removeCPMember(UUID)</code></a>.
 <p>
 A new CP member can be added to CP Subsystem to either increase the number
 of available CP members for new CP groups or to fill the missing slots in
 existing CP groups. After the initial Hazelcast cluster startup is done,
 an existing Hazelcast member can be be promoted to the CP member role. This
 new CP member automatically joins to CP groups that have missing members,
 and majority values of these CP groups are recalculated.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="CPSubsystem.html" title="interface in com.hazelcast.cp"><code>CPSubsystem</code></a>, 
<a href="CPMember.html" title="interface in com.hazelcast.cp"><code>CPMember</code></a>, 
<a href="../config/cp/CPSubsystemConfig.html" title="class in com.hazelcast.config.cp"><code>CPSubsystemConfig</code></a></dd>
</dl>
</section>
<section class="summary">
<ul class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">Abstract Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#awaitUntilDiscoveryCompleted(long,java.util.concurrent.TimeUnit)">awaitUntilDiscoveryCompleted</a></span>&#8203;(long&nbsp;timeout,
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">TimeUnit</a>&nbsp;timeUnit)</code></th>
<td class="colLast">
<div class="block">Blocks until the CP discovery process is completed, or the given
 timeout occurs, or the current thread is interrupted, whichever
 happens first.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletionStage</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#forceDestroyCPGroup(java.lang.String)">forceDestroyCPGroup</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;groupName)</code></th>
<td class="colLast">
<div class="block">Unconditionally destroys the given active CP group without using
 the Raft algorithm mechanics.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletionStage</a>&lt;<a href="CPGroup.html" title="interface in com.hazelcast.cp">CPGroup</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCPGroup(java.lang.String)">getCPGroup</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Returns the active CP group with the given name.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletionStage</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="CPGroupId.html" title="interface in com.hazelcast.cp">CPGroupId</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCPGroupIds()">getCPGroupIds</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns all active CP group ids.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletionStage</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="CPMember.html" title="interface in com.hazelcast.cp">CPMember</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCPMembers()">getCPMembers</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the current list of CP members</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code><a href="CPMember.html" title="interface in com.hazelcast.cp">CPMember</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLocalCPMember()">getLocalCPMember</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the local CP member if this Hazelcast member is part of
 CP Subsystem, returns null otherwise.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isDiscoveryCompleted()">isDiscoveryCompleted</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns whether the CP discovery process is completed or not.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletionStage</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#promoteToCPMember()">promoteToCPMember</a></span>()</code></th>
<td class="colLast">
<div class="block">Promotes the local Hazelcast member to the CP role.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletionStage</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeCPMember(java.util.UUID)">removeCPMember</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util" class="externalLink">UUID</a>&nbsp;cpMemberUuid)</code></th>
<td class="colLast">
<div class="block">Removes the given unreachable CP member from the active CP members list
 and all CP groups it belongs to.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletionStage</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reset()">reset</a></span>()</code></th>
<td class="colLast">
<div class="block">Wipes and resets the whole CP Subsystem state and initializes it
 as if the Hazelcast cluster is starting up initially.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="getLocalCPMember()">getLocalCPMember</a></h3>
<div class="memberSignature"><span class="returnType"><a href="CPMember.html" title="interface in com.hazelcast.cp">CPMember</a></span>&nbsp;<span class="memberName">getLocalCPMember</span>()</div>
<div class="block">Returns the local CP member if this Hazelcast member is part of
 CP Subsystem, returns null otherwise.
 <p>
 This field is initialized when the local Hazelcast member is one of
 the first <a href="../config/cp/CPSubsystemConfig.html#getCPMemberCount()"><code>CPSubsystemConfig.getCPMemberCount()</code></a> members
 in the cluster and the CP discovery process is completed.
 <p></p>
 This method fails with <a href="../core/HazelcastException.html" title="class in com.hazelcast.core"><code>HazelcastException</code></a> if CP Subsystem is not
 enabled.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>local CP member if available, null otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../core/HazelcastException.html" title="class in com.hazelcast.core">HazelcastException</a></code> - if CP Subsystem is not enabled</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#isDiscoveryCompleted()"><code>isDiscoveryCompleted()</code></a>, 
<a href="#awaitUntilDiscoveryCompleted(long,java.util.concurrent.TimeUnit)"><code>awaitUntilDiscoveryCompleted(long, TimeUnit)</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getCPGroupIds()">getCPGroupIds</a></h3>
<div class="memberSignature"><span class="returnType"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletionStage</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="CPGroupId.html" title="interface in com.hazelcast.cp">CPGroupId</a>&gt;&gt;</span>&nbsp;<span class="memberName">getCPGroupIds</span>()</div>
<div class="block">Returns all active CP group ids.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getCPGroup(java.lang.String)">getCPGroup</a></h3>
<div class="memberSignature"><span class="returnType"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletionStage</a>&lt;<a href="CPGroup.html" title="interface in com.hazelcast.cp">CPGroup</a>&gt;</span>&nbsp;<span class="memberName">getCPGroup</span>&#8203;(<span class="arguments"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</span></div>
<div class="block">Returns the active CP group with the given name.
 There can be at most one active CP group with a given name.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="forceDestroyCPGroup(java.lang.String)">forceDestroyCPGroup</a></h3>
<div class="memberSignature"><span class="returnType"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletionStage</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</span>&nbsp;<span class="memberName">forceDestroyCPGroup</span>&#8203;(<span class="arguments"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;groupName)</span></div>
<div class="block">Unconditionally destroys the given active CP group without using
 the Raft algorithm mechanics. This method must be used only when
 a CP group permanently loses its majority and cannot make progress
 anymore. Normally, membership changes in CP groups, such as CP member
 promotion or removal, are done via the Raft consensus algorithm.
 However, when a CP group permanently loses its majority, it will not be
 able to commit any new operation. Therefore, this method ungracefully
 terminates execution of the Raft algorithm for this CP group on
 the remaining CP group members. It also performs a Raft commit to
 the METADATA CP group in order to update the status of the destroyed CP
 group. Once a CP group is destroyed, all CP data structure proxies
 created before the destroy call fails with
 <a href="exception/CPGroupDestroyedException.html" title="class in com.hazelcast.cp.exception"><code>CPGroupDestroyedException</code></a>. However, if a new proxy is created
 afterwards, then this CP group is re-created from scratch with a new set
 of CP members.
 <p>
 This method is idempotent. It has no effect if the given CP group is
 already destroyed.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getCPMembers()">getCPMembers</a></h3>
<div class="memberSignature"><span class="returnType"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletionStage</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="CPMember.html" title="interface in com.hazelcast.cp">CPMember</a>&gt;&gt;</span>&nbsp;<span class="memberName">getCPMembers</span>()</div>
<div class="block">Returns the current list of CP members</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="promoteToCPMember()">promoteToCPMember</a></h3>
<div class="memberSignature"><span class="returnType"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletionStage</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</span>&nbsp;<span class="memberName">promoteToCPMember</span>()</div>
<div class="block">Promotes the local Hazelcast member to the CP role.
 <p>
 This method is idempotent.
 If the local member is already in the active CP members list, i.e.,
 it is already a CP member, then this method has no effect. When
 the local member is promoted to the CP role, its member UUID is
 assigned as its CP member UUID.
 <p>
 Once the returned <code>Future</code> object is completed, the promoted CP
 member has been added to CP groups that have missing CP members, i.e.,
 whose current size is smaller than
 <a href="../config/cp/CPSubsystemConfig.html#getGroupSize()"><code>CPSubsystemConfig.getGroupSize()</code></a>.
 <p>
 If the local member is currently being removed from
 the active CP members list, then the returned <code>Future</code> object
 will throw <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>IllegalArgumentException</code></a>.
 <p>
 If there is an ongoing membership change in CP Subsystem when this
 method is invoked, then the returned <code>Future</code> object throws
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>IllegalStateException</code></a>.
 <p>
 If the CP discovery process has not completed yet when this method is
 invoked, then the returned <code>Future</code> object throws
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>IllegalStateException</code></a>.
 <p>
 If the local member is a lite member, the returned <code>Future</code> object
 throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>IllegalStateException</code></a>.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="removeCPMember(java.util.UUID)">removeCPMember</a></h3>
<div class="memberSignature"><span class="returnType"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletionStage</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</span>&nbsp;<span class="memberName">removeCPMember</span>&#8203;(<span class="arguments"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util" class="externalLink">UUID</a>&nbsp;cpMemberUuid)</span></div>
<div class="block">Removes the given unreachable CP member from the active CP members list
 and all CP groups it belongs to. If any other active CP member
 is available, it replaces the removed CP member in its CP groups.
 Otherwise, CP groups which the removed CP member is a member of shrinks
 and their majority values are recalculated.
 <p>
 Before removing a CP member from CP Subsystem, please make sure that
 it is declared as unreachable by Hazelcast's failure detector and removed
 from Hazelcast's member list. The behavior is undefined when a running
 CP member is removed from CP Subsystem.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - When another CP member is currently being
         removed from CP Subsystem</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if the given CP member is already
         removed from CP Subsystem</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="reset()">reset</a></h3>
<div class="memberSignature"><span class="returnType"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletionStage</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</span>&nbsp;<span class="memberName">reset</span>()</div>
<div class="block">Wipes and resets the whole CP Subsystem state and initializes it
 as if the Hazelcast cluster is starting up initially.
 This method must be used only when the METADATA CP group loses
 its majority and cannot make progress anymore.
 <p>
 After this method is called, all CP state and data are wiped
 and CP members start with empty state.
 <p>
 This method can be invoked only from the Hazelcast master member, which
 is the first member in the Hazelcast cluster member list.
 <p>
 This method must not be called while there are membership changes
 in the Hazelcast cluster. Before calling this method, please make sure
 that there is no new member joining and all existing Hazelcast members
 have seen the same member list.
 <p>
 To be able to use this method, the initial CP member count of CP
 Subsystem, which is defined by
 <a href="../config/cp/CPSubsystemConfig.html#getCPMemberCount()"><code>CPSubsystemConfig.getCPMemberCount()</code></a>, must be satisfied. For
 instance, if <a href="../config/cp/CPSubsystemConfig.html#getCPMemberCount()"><code>CPSubsystemConfig.getCPMemberCount()</code></a> is 5 and
 only 1 CP member is alive, when this method is called, 4 additional AP
 Hazelcast members should exist in the cluster, or new Hazelcast members
 must be started.
 <p>
 This method also deletes all data written by CP Subsystem Persistence.
 <p>
 This method triggers a new CP discovery process round. However, if
 the new CP discovery round fails for any reason, Hazelcast members are
 not terminated, because Hazelcast members are likely to contain data for
 AP data structures and their termination can cause data loss. Hence, you
 need to observe the cluster and check if the CP discovery process
 completes successfully.
 <p>
 <strong>Use with caution:
 This method is NOT idempotent and multiple invocations can break
 the whole system! After calling this API, you must observe the system
 to see if the reset process is successfully completed or failed
 before making another call.</strong></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - When this method is called on
         a Hazelcast member that is not the Hazelcast cluster master</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if current member count of the cluster
         is smaller than <a href="../config/cp/CPSubsystemConfig.html#getCPMemberCount()"><code>CPSubsystemConfig.getCPMemberCount()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isDiscoveryCompleted()">isDiscoveryCompleted</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">isDiscoveryCompleted</span>()</div>
<div class="block">Returns whether the CP discovery process is completed or not.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the CP discovery process completed,
         <code>false</code> otherwise</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#awaitUntilDiscoveryCompleted(long,java.util.concurrent.TimeUnit)"><code>awaitUntilDiscoveryCompleted(long, TimeUnit)</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="awaitUntilDiscoveryCompleted(long,java.util.concurrent.TimeUnit)">awaitUntilDiscoveryCompleted</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">awaitUntilDiscoveryCompleted</span>&#8203;(<span class="arguments">long&nbsp;timeout,
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">TimeUnit</a>&nbsp;timeUnit)</span>
                              throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink">InterruptedException</a></span></div>
<div class="block">Blocks until the CP discovery process is completed, or the given
 timeout occurs, or the current thread is interrupted, whichever
 happens first.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeout</code> - maximum time to wait</dd>
<dd><code>timeUnit</code> - time unit of the timeout</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if CP discovery completed, <code>false</code> otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink">InterruptedException</a></code> - if interrupted while waiting</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#isDiscoveryCompleted()"><code>isDiscoveryCompleted()</code></a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CPSubsystemManagementService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2021 <a href="http://www.hazelcast.com/">Hazelcast, Inc.</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
