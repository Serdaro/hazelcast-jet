<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (14) on Tue Dec 21 08:36:16 CET 2021 -->
<title>ISemaphore (hazelcast-jet-distribution 4.5.3 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-12-21">
<meta name="description" content="declaration: package: com.hazelcast.cp, interface: ISemaphore">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ISemaphore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.hazelcast.cp</a></div>
<h1 title="Interface ISemaphore" class="title">Interface ISemaphore</h1>
</div>
<div class="contentContainer">
<section class="description">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="../core/DistributedObject.html" title="interface in com.hazelcast.core">DistributedObject</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">ISemaphore</span>
extends <a href="../core/DistributedObject.html" title="interface in com.hazelcast.core">DistributedObject</a></pre>
<div class="block">ISemaphore is a fault-tolerant distributed alternative to the
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Semaphore.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>Semaphore</code></a>. Semaphores are often used to restrict the number of
 threads than can access some physical or logical resource.
 <p>
 ISemaphore is a cluster-wide counting semaphore. Conceptually, it maintains
 a set of permits. Each <a href="#acquire()"><code>acquire()</code></a> blocks if necessary until a permit
 is available, and then takes it. Dually, each <a href="#release()"><code>release()</code></a> adds a
 permit, potentially releasing a blocking acquirer. However, no actual permit
 objects are used; the semaphore just keeps a count of the number available
 and acts accordingly.
 <p>
 Hazelcast's distributed semaphore implementation guarantees that threads
 invoking any of the <a href="#acquire()"><code>acquire</code></a> methods are selected to
 obtain permits in the order of their invocations (first-in-first-out; FIFO).
 Note that FIFO ordering implies the order which the primary replica of an
 <a href="ISemaphore.html" title="interface in com.hazelcast.cp"><code>ISemaphore</code></a> receives these acquire requests. Therefore, it is
 possible for one member to invoke <code>acquire</code> before another member,
 but its request hits the primary replica after the other member.
 <p>
 This class also provides convenience methods, such as
 <a href="#acquire(int)"><code>acquire</code></a> and <a href="#release(int)"><code>release</code></a>, to work
 with multiple permits at once. Beware of the increased risk of
 indefinite postponement when using the multiple-permit acquire. If permits
 are released one by one, a thread waiting for one permit will acquire
 it before a thread waiting for multiple permits regardless of the call order.
 <p>
 Correct usage of a semaphore is established by programming convention
 in the application.
 <p>
 <a href="ISemaphore.html" title="interface in com.hazelcast.cp"><code>ISemaphore</code></a> is accessed via <a href="CPSubsystem.html#getSemaphore(java.lang.String)"><code>CPSubsystem.getSemaphore(String)</code></a>.
 It works on top of the Raft consensus algorithm. It offers linearizability during crash
 failures and network partitions. It is CP with respect to the CAP principle.
 If a network partition occurs, it remains available on at most one side of
 the partition.
 <p>
 It has 2 variations:
 <ul>
 <li>
 The default impl accessed via <a href="CPSubsystem.html" title="interface in com.hazelcast.cp"><code>CPSubsystem</code></a> is session-aware. In this
 one, when a caller makes its very first <a href="#acquire()"><code>acquire()</code></a> call, it starts
 a new CP session with the underlying CP group. Then, liveliness of the
 caller is tracked via this CP session. When the caller fails, permits
 acquired by this HazelcastInstance are automatically and safely released.
 However, the session-aware version comes with a limitation, that is,
 a HazelcastInstance cannot release permits before acquiring them
 first. In other words, a HazelcastInstance can release only
 the permits it has acquired earlier. It means, you can acquire a permit
 from one thread and release it from another thread using the same
 HazelcastInstance, but not different instances of HazelcastInstance. This
 behaviour is not compatible with <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Semaphore.html?is-external=true#release()" title="class or interface in java.util.concurrent" class="externalLink"><code>Semaphore.release()</code></a>. You can use
 the session-aware CP <a href="ISemaphore.html" title="interface in com.hazelcast.cp"><code>ISemaphore</code></a> impl by disabling JDK compatibility
 via <a href="../config/cp/SemaphoreConfig.html#setJDKCompatible(boolean)"><code>SemaphoreConfig.setJDKCompatible(boolean)</code></a>. Although
 the session-aware impl has a minor difference to the JDK Semaphore, we think
 it is a better fit for distributed environments because of its safe
 auto-cleanup mechanism for acquired permits. Please see
 <a href="session/CPSession.html" title="interface in com.hazelcast.cp.session"><code>CPSession</code></a> for the rationale behind the session mechanism.
 </li>
 <li>
 The second impl offered by <a href="CPSubsystem.html" title="interface in com.hazelcast.cp"><code>CPSubsystem</code></a> is sessionless. This impl
 does not perform auto-cleanup of acquired permits on failures. Acquired
 permits are not bound to HazelcastInstance and permits can be released without
 acquiring first. This one is compatible with <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Semaphore.html?is-external=true#release()" title="class or interface in java.util.concurrent" class="externalLink"><code>Semaphore.release()</code></a>.
 However, you need to handle failed permit owners on your own. If a Hazelcast
 server or a client fails while holding some permits, they will not be
 automatically released. You can use the sessionless CP <a href="ISemaphore.html" title="interface in com.hazelcast.cp"><code>ISemaphore</code></a>
 impl by enabling JDK compatibility via
 <a href="../config/cp/SemaphoreConfig.html#setJDKCompatible(boolean)"><code>SemaphoreConfig.setJDKCompatible(boolean)</code></a>.
 </li>
 </ul>
 <p>
 There is a subtle difference between the lock and semaphore abstractions.
 A lock can be assigned to at most one endpoint at a time, so we have a total
 order among its holders. However, permits of a semaphore can be assigned to
 multiple endpoints at a time, which implies that we may not have a total
 order among permit holders. In fact, permit holders are partially ordered.
 For this reason, the fencing token approach, which is explained in
 <a href="lock/FencedLock.html" title="interface in com.hazelcast.cp.lock"><code>FencedLock</code></a>, does not work for the semaphore abstraction. Moreover,
 each permit is an independent entity. Multiple permit acquires and reentrant
 lock acquires of a single endpoint are not equivalent. The only case where
 a semaphore behaves like a lock is the binary case, where the semaphore has
 only 1 permit. In this case, the semaphore works like a non-reentrant lock.
 <p>
 All of the API methods in the new CP <a href="ISemaphore.html" title="interface in com.hazelcast.cp"><code>ISemaphore</code></a> impl offer
 the exactly-once execution semantics for the session-aware version.
 For instance, even if a <a href="#release()"><code>release()</code></a> call is internally retried
 because of a crashed Hazelcast member, the permit is released only once.
 However, this guarantee is not given for the sessionless, a.k.a,
 JDK-compatible CP <a href="ISemaphore.html" title="interface in com.hazelcast.cp"><code>ISemaphore</code></a>. For this version, you can tune
 execution semantics via
 <a href="../config/cp/CPSubsystemConfig.html#setFailOnIndeterminateOperationState(boolean)"><code>CPSubsystemConfig.setFailOnIndeterminateOperationState(boolean)</code></a>.</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">Abstract Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acquire()">acquire</a></span>()</code></th>
<td class="colLast">
<div class="block">Acquires a permit if one is available, and returns immediately,
 reducing the number of available permits by one.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acquire(int)">acquire</a></span>&#8203;(int&nbsp;permits)</code></th>
<td class="colLast">
<div class="block">Acquires the given number of permits if they are available,
 and returns immediately, reducing the number of available permits
 by the given amount.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#availablePermits()">availablePermits</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the current number of permits currently available in this semaphore.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#drainPermits()">drainPermits</a></span>()</code></th>
<td class="colLast">
<div class="block">Acquires and returns all permits that are available at invocation time.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getName()">getName</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the name of this ISemaphore instance.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#increasePermits(int)">increasePermits</a></span>&#8203;(int&nbsp;increase)</code></th>
<td class="colLast">
<div class="block">Increases the number of available permits by the indicated amount.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#init(int)">init</a></span>&#8203;(int&nbsp;permits)</code></th>
<td class="colLast">
<div class="block">Tries to initialize this ISemaphore instance with the given permit count</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reducePermits(int)">reducePermits</a></span>&#8203;(int&nbsp;reduction)</code></th>
<td class="colLast">
<div class="block">Reduces the number of available permits by the indicated amount.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#release()">release</a></span>()</code></th>
<td class="colLast">
<div class="block">Releases a permit and increases the number of available permits by one.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#release(int)">release</a></span>&#8203;(int&nbsp;permits)</code></th>
<td class="colLast">
<div class="block">Releases the given number of permits and increases the number of
 available permits by that amount.</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryAcquire()">tryAcquire</a></span>()</code></th>
<td class="colLast">
<div class="block">Acquires a permit if one is available, and returns <code>true</code>
 immediately.</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryAcquire(int)">tryAcquire</a></span>&#8203;(int&nbsp;permits)</code></th>
<td class="colLast">
<div class="block">Acquires the given number of permits if they are available, and
 returns <code>true</code> immediately.</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryAcquire(int,long,java.util.concurrent.TimeUnit)">tryAcquire</a></span>&#8203;(int&nbsp;permits,
long&nbsp;timeout,
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">TimeUnit</a>&nbsp;unit)</code></th>
<td class="colLast">
<div class="block">Acquires the given number of permits and returns <code>true</code>, if they
 become available during the given waiting time.</div>
</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryAcquire(long,java.util.concurrent.TimeUnit)">tryAcquire</a></span>&#8203;(long&nbsp;timeout,
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">TimeUnit</a>&nbsp;unit)</code></th>
<td class="colLast">
<div class="block">Acquires a permit and returns <code>true</code>, if one becomes available
 during the given waiting time and the current thread has not been
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt()" title="class or interface in java.lang" class="externalLink">interrupted</a>.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;com.hazelcast.core.<a href="../core/DistributedObject.html" title="interface in com.hazelcast.core">DistributedObject</a></h3>
<a id="methods.inherited.from.class.com.hazelcast.core.DistributedObject">
<!--   -->
</a><code><a href="../core/DistributedObject.html#destroy()">destroy</a>, <a href="../core/DistributedObject.html#getDestroyContextForTenant()">getDestroyContextForTenant</a>, <a href="../core/DistributedObject.html#getPartitionKey()">getPartitionKey</a>, <a href="../core/DistributedObject.html#getServiceName()">getServiceName</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="getName()">getName</a></h3>
<div class="memberSignature"><span class="returnType"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></span>&nbsp;<span class="memberName">getName</span>()</div>
<div class="block">Returns the name of this ISemaphore instance.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../core/DistributedObject.html#getName()">getName</a></code>&nbsp;in interface&nbsp;<code><a href="../core/DistributedObject.html" title="interface in com.hazelcast.core">DistributedObject</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>name of this instance</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="init(int)">init</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">init</span>&#8203;(<span class="arguments">int&nbsp;permits)</span></div>
<div class="block">Tries to initialize this ISemaphore instance with the given permit count</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>permits</code> - the given permit count</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if initialization success. false if already initialized</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>permits</code> is negative</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="acquire()">acquire</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">acquire</span>()
      throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink">InterruptedException</a></span></div>
<div class="block">Acquires a permit if one is available, and returns immediately,
 reducing the number of available permits by one.
 <p>
 If no permit is available, then the current thread becomes
 disabled for thread scheduling purposes and lies dormant until
 one of three things happens:
 <ul>
 <li>some other thread invokes one of the <a href="#release()"><code>release()</code></a> methods for this
 semaphore and the current thread is next to be assigned a permit,</li>
 <li>this ISemaphore instance is destroyed, or</li>
 <li>some other thread <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt()" title="class or interface in java.lang" class="externalLink">interrupts</a>
 the current thread.</li>
 </ul>
 <p>If the current thread:
 <ul>
 <li>has its interrupted status set on entry to this method; or</li>
 <li>is <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt()" title="class or interface in java.lang" class="externalLink">interrupted</a> while waiting for a permit,</li>
 </ul>
 then <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>InterruptedException</code></a> is thrown and the current thread's
 interrupted status is cleared.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink">InterruptedException</a></code> - if the current thread is interrupted</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if hazelcast instance is shutdown while waiting</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="acquire(int)">acquire</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">acquire</span>&#8203;(<span class="arguments">int&nbsp;permits)</span>
      throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink">InterruptedException</a></span></div>
<div class="block">Acquires the given number of permits if they are available,
 and returns immediately, reducing the number of available permits
 by the given amount.
 <p>
 If insufficient permits are available then the current thread becomes
 disabled for thread scheduling purposes and lies dormant until
 one of three things happens:
 <ul>
 <li>some other thread invokes one of the <a href="#release()"><code>release</code></a>
 methods for this semaphore, the current thread is next to be assigned
 permits and the number of available permits satisfies this request,</li>
 <li>or this ISemaphore instance is destroyed,</li>
 <li>or some other thread <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt()" title="class or interface in java.lang" class="externalLink">interrupts</a>
 the current thread.</li>
 </ul>
 If the current thread:
 <ul>
 <li>has its interrupted status set on entry to this method, or</li>
 <li>is <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt()" title="class or interface in java.lang" class="externalLink">interrupted</a> while waiting for a permit,</li>
 </ul>
 then <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>InterruptedException</code></a> is thrown and the current thread's
 interrupted status is cleared.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>permits</code> - the number of permits to acquire</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink">InterruptedException</a></code> - if the current thread is interrupted</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>permits</code> is negative or zero</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if hazelcast instance is shutdown while waiting</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="availablePermits()">availablePermits</a></h3>
<div class="memberSignature"><span class="returnType">int</span>&nbsp;<span class="memberName">availablePermits</span>()</div>
<div class="block">Returns the current number of permits currently available in this semaphore.
 <p>
 This method is typically used for debugging and testing purposes.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of permits available in this semaphore</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="drainPermits()">drainPermits</a></h3>
<div class="memberSignature"><span class="returnType">int</span>&nbsp;<span class="memberName">drainPermits</span>()</div>
<div class="block">Acquires and returns all permits that are available at invocation time.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of permits drained</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="reducePermits(int)">reducePermits</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">reducePermits</span>&#8203;(<span class="arguments">int&nbsp;reduction)</span></div>
<div class="block">Reduces the number of available permits by the indicated amount. This
 method differs from <code>acquire</code> as it does not block until permits
 become available. Similarly, if the caller has acquired some permits,
 they are not released with this call.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reduction</code> - the number of permits to reduce</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>reduction</code> is negative</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="increasePermits(int)">increasePermits</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">increasePermits</span>&#8203;(<span class="arguments">int&nbsp;increase)</span></div>
<div class="block">Increases the number of available permits by the indicated amount. If
 there are some threads waiting for permits to become available, they
 will be notified. Moreover, if the caller has acquired some permits,
 they are not released with this call.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>increase</code> - the number of permits to increase</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>increase</code> is negative</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="release()">release</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">release</span>()</div>
<div class="block">Releases a permit and increases the number of available permits by one.
 If some threads in the cluster are blocked for acquiring a permit, one
 of them will unblock by acquiring the permit released by this call.
 <p>
 If the underlying <a href="ISemaphore.html" title="interface in com.hazelcast.cp"><code>ISemaphore</code></a> is configured as non-JDK compatible
 via <a href="../config/cp/SemaphoreConfig.html" title="class in com.hazelcast.config.cp"><code>SemaphoreConfig</code></a> then a HazelcastInstance can only release a permit which
 it has acquired before. In other words, a HazelcastInstance cannot release a permit
 without acquiring it first.
 <p>
 Otherwise, which means the underlying impl is the JDK compatible
 Semaphore is configured via <a href="../config/cp/SemaphoreConfig.html" title="class in com.hazelcast.config.cp"><code>SemaphoreConfig</code></a>, there is no requirement
 that a HazelcastInstance that releases a permit must have acquired that permit by
 calling one of the <a href="#acquire()"><code>acquire()</code></a> methods. A HazelcastInstance can freely
 release a permit without acquiring it first. In this case, correct usage
 of a semaphore is established by programming convention in the application.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the Semaphore is non-JDK-compatible
         and the caller does not have a permit</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="release(int)">release</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">release</span>&#8203;(<span class="arguments">int&nbsp;permits)</span></div>
<div class="block">Releases the given number of permits and increases the number of
 available permits by that amount. If some threads in the cluster are
 blocked for acquiring permits, they will be notified.
 <p>
 If the underlying <a href="ISemaphore.html" title="interface in com.hazelcast.cp"><code>ISemaphore</code></a> impl is the non-JDK compatible
 CP impl that is configured via <a href="../config/cp/SemaphoreConfig.html" title="class in com.hazelcast.config.cp"><code>SemaphoreConfig</code></a> and fetched
 via <a href="CPSubsystem.html" title="interface in com.hazelcast.cp"><code>CPSubsystem</code></a>, then a HazelcastInstance can only release a permit which
 it has acquired before. In other words, a HazelcastInstance cannot release a permit
 without acquiring it first.
 <p>
 Otherwise, which means the underlying impl is the JDK compatible
 Semaphore is configured via <a href="../config/cp/SemaphoreConfig.html" title="class in com.hazelcast.config.cp"><code>SemaphoreConfig</code></a>, there is no requirement
 that a HazelcastInstance that releases a permit must have acquired that permit by
 calling one of the <a href="#acquire()"><code>acquire()</code></a> methods. A HazelcastInstance can freely
 release a permit without acquiring it first. In this case, correct usage
 of a semaphore is established by programming convention in the application.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>permits</code> - the number of permits to release</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>permits</code> is negative or zero</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the Semaphore is non-JDK-compatible
         and the caller does not have a permit</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="tryAcquire()">tryAcquire</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">tryAcquire</span>()</div>
<div class="block">Acquires a permit if one is available, and returns <code>true</code>
 immediately. If no permit is available, returns <code>false</code>
 immediately.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if a permit was acquired, <code>false</code> otherwise</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="tryAcquire(int)">tryAcquire</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">tryAcquire</span>&#8203;(<span class="arguments">int&nbsp;permits)</span></div>
<div class="block">Acquires the given number of permits if they are available, and
 returns <code>true</code> immediately. If the requested number of permits are
 not available, returns <code>false</code> immediately.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>permits</code> - the number of permits to acquire</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the permits were acquired, <code>false</code> otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>permits</code> is negative</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="tryAcquire(long,java.util.concurrent.TimeUnit)">tryAcquire</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">tryAcquire</span>&#8203;(<span class="arguments">long&nbsp;timeout,
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">TimeUnit</a>&nbsp;unit)</span>
            throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink">InterruptedException</a></span></div>
<div class="block">Acquires a permit and returns <code>true</code>, if one becomes available
 during the given waiting time and the current thread has not been
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt()" title="class or interface in java.lang" class="externalLink">interrupted</a>. If a permit is acquired,
 the number of available permits in the <a href="ISemaphore.html" title="interface in com.hazelcast.cp"><code>ISemaphore</code></a> instance is
 also reduced by one.
 <p>
 If no permit is available, then the current thread becomes
 disabled for thread scheduling purposes and lies dormant until
 one of three things happens:
 <ul>
 <li>some other thread releases a permit and the current thread is next
 to be assigned a permit,</li>
 <li>or this ISemaphore instance is destroyed,</li>
 <li>or some other thread <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt()" title="class or interface in java.lang" class="externalLink">interrupts</a>
 the current thread,</li>
 <li>or the specified waiting time elapses.</li>
 </ul>
 <p>
 Returns <code>true</code> if a permit is successfully acquired.
 <p>
 Returns <code>false</code> if the specified waiting time elapses without
 acquiring a permit. If the time is less than or equal to zero,
 the method will not wait at all.
 <p>
 If the current thread:
 <ul>
 <li>has its interrupted status set on entry to this method,</li>
 <li>or is <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt()" title="class or interface in java.lang" class="externalLink">interrupted</a> while waiting for
 a permit,</li>
 </ul>
 then <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>InterruptedException</code></a> is thrown and the current thread's
 interrupted status is cleared.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeout</code> - the maximum time to wait for a permit</dd>
<dd><code>unit</code> - the time unit of the <code>timeout</code> argument</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if a permit was acquired and <code>false</code>
 if the waiting time elapsed before a permit was acquired</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink">InterruptedException</a></code> - if the current thread is interrupted</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if hazelcast instance is shutdown while waiting</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="tryAcquire(int,long,java.util.concurrent.TimeUnit)">tryAcquire</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">tryAcquire</span>&#8203;(<span class="arguments">int&nbsp;permits,
long&nbsp;timeout,
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">TimeUnit</a>&nbsp;unit)</span>
            throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink">InterruptedException</a></span></div>
<div class="block">Acquires the given number of permits and returns <code>true</code>, if they
 become available during the given waiting time. If permits are acquired,
 the number of available permits in the <a href="ISemaphore.html" title="interface in com.hazelcast.cp"><code>ISemaphore</code></a> instance is
 also reduced by the given amount.
 <p>
 If no sufficient permits are available, then the current thread becomes
 disabled for thread scheduling purposes and lies dormant until one of
 three things happens:
 <ul>
 <li>permits are released by other threads, the current thread is next to
 be assigned permits and the number of available permits satisfies this
 request,</li>
 <li>or some other thread <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt()" title="class or interface in java.lang" class="externalLink">interrupts</a>
 the current thread,</li>
 <li>or the specified waiting time elapses.</li>
 </ul>
 Returns <code>true</code> if requested permits are successfully acquired.
 <p>
 Returns <code>false</code> if the specified waiting time elapses without
 acquiring permits. If the time is less than or equal to zero,
 the method will not wait at all.
 <p>
 If the current thread:
 <ul>
 <li>has its interrupted status set on entry to this method,</li>
 <li>or is <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt()" title="class or interface in java.lang" class="externalLink">interrupted</a> while waiting for
 a permit,</li>
 </ul>
 then <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>InterruptedException</code></a> is thrown and the current thread's
 interrupted status is cleared.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>permits</code> - the number of permits to acquire</dd>
<dd><code>timeout</code> - the maximum time to wait for the permits</dd>
<dd><code>unit</code> - the time unit of the <code>timeout</code> argument</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if all permits were acquired,
 <code>false</code> if the waiting time elapsed before all permits could be acquired</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink">InterruptedException</a></code> - if the current thread is interrupted</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>permits</code> is negative or zero</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if hazelcast instance is shutdown while waiting</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ISemaphore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2021 <a href="http://www.hazelcast.com/">Hazelcast, Inc.</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
