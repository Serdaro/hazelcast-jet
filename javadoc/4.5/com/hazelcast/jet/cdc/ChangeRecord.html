<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (15) on Tue Apr 20 14:42:57 CEST 2021 -->
<title>ChangeRecord (hazelcast-jet-distribution 4.5 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-04-20">
<meta name="description" content="declaration: package: com.hazelcast.jet.cdc, interface: ChangeRecord">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ChangeRecord.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.hazelcast.jet.cdc</a></div>
<h1 title="Interface ChangeRecord" class="title">Interface ChangeRecord</h1>
</div>
<section class="description">
<hr>
<pre><a href="../annotation/EvolvingApi.html" title="annotation in com.hazelcast.jet.annotation">@EvolvingApi</a>
public interface <span class="type-name-label">ChangeRecord</span></pre>
<div class="block">Information pertaining to a single data change event (insert, delete or
 update), affecting a single database record.
 <p>
 Each event has a <em>key</em>, identifying the affected record, and a
 <em>value</em>, describing the change to that record.
 <p>
 Most events have an <em>operation</em> which specifies the type of change
 (insert, delete or update). Events without an operation have specialized
 usage, for example heartbeats, and aren't supposed to affect the data model.
 You can observe and act upon them in a Jet CDC sink, but we discourage such
 usage.
 <p>
 All events have a <em>timestamp</em> specifying the moment when the change
 event occurred in the database. Normally this is the timestamp recorded in
 the database's change log, but since it has a finite size, the change stream
 begins with virtual events that reproduce the state of the table at the start
 of the change log. These events have an artificial timestamp. In principle,
 it should be easy to identify them because they have a separate <code>SYNC</code>
 operation instead of <code>INSERT</code>, however some databases emit <code>INSERT</code>
 events in both cases (a notable example is MySQL).
 <p>
 All events have a source-specific <em>sequence</em> which can be used to
 ensure their ordering. The sequence consists of two parts: a monotonically
 increasing <em>numeric value</em> and a <em>source descriptor</em>, which
 provides the scope of validity of the numeric value. This is needed because
 many CDC sources don't provide a globally valid sequence. For example, the
 sequence may be the offset in a write-ahead log. Then it makes sense to
 compare them only if they come from the same log file.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>4.2</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="table-tab" onclick="show(4);">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#database()">database</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the name of the database containing the record's table.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code><a href="RecordPart.html" title="interface in com.hazelcast.jet.cdc">RecordPart</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#key()">key</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the key part of the CDC event.</div>
</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code><a href="Operation.html" title="enum in com.hazelcast.jet.cdc">Operation</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#operation()">operation</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the type of change this record describes (insert, delete or
 update).</div>
</td>
</tr>
<tr class="row-color" id="i3">
<td class="col-first"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#schema()">schema</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the name of the schema containing the record's table.</div>
</td>
</tr>
<tr class="alt-color" id="i4">
<td class="col-first"><code>long</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#sequenceSource()">sequenceSource</a></span>()</code></th>
<td class="col-last">
<div class="block">Specifies the source descriptor of the record's sequence.</div>
</td>
</tr>
<tr class="row-color" id="i5">
<td class="col-first"><code>long</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#sequenceValue()">sequenceValue</a></span>()</code></th>
<td class="col-last">
<div class="block">Specifies the numeric value part of the record's source sequence.</div>
</td>
</tr>
<tr class="alt-color" id="i6">
<td class="col-first"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#table()">table</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the name of the table this record is part of.</div>
</td>
</tr>
<tr class="row-color" id="i7">
<td class="col-first"><code>long</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#timestamp()">timestamp</a></span>()</code></th>
<td class="col-last">
<div class="block">Specifies the moment when the change event occurred in the database.</div>
</td>
</tr>
<tr class="alt-color" id="i8">
<td class="col-first"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#toJson()">toJson</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the raw JSON string from the CDC event underlying this <code>
 ChangeRecord</code>.</div>
</td>
</tr>
<tr class="row-color" id="i9">
<td class="col-first"><code><a href="RecordPart.html" title="interface in com.hazelcast.jet.cdc">RecordPart</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#value()">value</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the value part of the CDC event.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="timestamp()">
<h3>timestamp</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="member-name">timestamp</span>()
        throws <span class="exceptions"><a href="ParsingException.html" title="class in com.hazelcast.jet.cdc">ParsingException</a></span></div>
<div class="block">Specifies the moment when the change event occurred in the database.
 Normally this is the timestamp recorded in the database's change log,
 but since it has a finite size, the change stream begins with virtual
 events that reproduce the state of the table at the start of the change
 log. These events have an artificial timestamp. In principle, it should
 be easy to identify them because they have a separate <code>SYNC</code>
 operation instead of <code>INSERT</code>, however some databases emit <code>
 INSERT</code> events in both cases (a notable example is MySQL).</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="ParsingException.html" title="class in com.hazelcast.jet.cdc">ParsingException</a></code> - if the timestamp field isn't present or
                          is unparseable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sequenceValue()">
<h3>sequenceValue</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="member-name">sequenceValue</span>()</div>
<div class="block">Specifies the numeric value part of the record's source sequence. As long
 as the source sequence doesn't change, the values will be monotonically
 increasing and can be used to impose ordering over the stream of records.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>4.3</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sequenceSource()">
<h3>sequenceSource</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="member-name">sequenceSource</span>()</div>
<div class="block">Specifies the source descriptor of the record's sequence. Any changes
 observed in its value should be interpreted as a reset in the sequence's
 numeric values. No ordering can be deduced for two records with different
 sequence sources.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>4.3</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="operation()">
<h3>operation</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a>
</span><span class="return-type"><a href="Operation.html" title="enum in com.hazelcast.jet.cdc">Operation</a></span>&nbsp;<span class="member-name">operation</span>()
             throws <span class="exceptions"><a href="ParsingException.html" title="class in com.hazelcast.jet.cdc">ParsingException</a></span></div>
<div class="block">Returns the type of change this record describes (insert, delete or
 update). Some special events, like heartbeats, don't have an operation
 value.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><a href="Operation.html#UNSPECIFIED"><code>Operation.UNSPECIFIED</code></a> if this <code>ChangeRecord</code>
 doesn't have an operation field, otherwise the appropriate <a href="Operation.html" title="enum in com.hazelcast.jet.cdc"><code>Operation</code></a> that matches the CDC record's operation field</dd>
<dt>Throws:</dt>
<dd><code><a href="ParsingException.html" title="class in com.hazelcast.jet.cdc">ParsingException</a></code> - if there is an operation field, but its
                          value is not among the handled ones.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="database()">
<h3>database</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a>
</span><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="member-name">database</span>()
         throws <span class="exceptions"><a href="ParsingException.html" title="class in com.hazelcast.jet.cdc">ParsingException</a></span></div>
<div class="block">Returns the name of the database containing the record's table.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>name of the source database for the current record</dd>
<dt>Throws:</dt>
<dd><code><a href="ParsingException.html" title="class in com.hazelcast.jet.cdc">ParsingException</a></code> - if the database name field isn't present
                          or is unparseable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="schema()">
<h3>schema</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a>
</span><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="member-name">schema</span>()
       throws <span class="exceptions"><a href="ParsingException.html" title="class in com.hazelcast.jet.cdc">ParsingException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></span></div>
<div class="block">Returns the name of the schema containing the record's table.
 Note: not all databases have the concept of a schema (for example
 MySQL).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>name of the source schema for the current record</dd>
<dt>Throws:</dt>
<dd><code><a href="ParsingException.html" title="class in com.hazelcast.jet.cdc">ParsingException</a></code> - if the schema name field isn't present
                          or is unparseable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="table()">
<h3>table</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a>
</span><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="member-name">table</span>()
      throws <span class="exceptions"><a href="ParsingException.html" title="class in com.hazelcast.jet.cdc">ParsingException</a></span></div>
<div class="block">Returns the name of the table this record is part of.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>name of the source table for the current record</dd>
<dt>Throws:</dt>
<dd><code><a href="ParsingException.html" title="class in com.hazelcast.jet.cdc">ParsingException</a></code> - if the table name field isn't present or
                          is unparseable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="key()">
<h3>key</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a>
</span><span class="return-type"><a href="RecordPart.html" title="interface in com.hazelcast.jet.cdc">RecordPart</a></span>&nbsp;<span class="member-name">key</span>()</div>
<div class="block">Returns the key part of the CDC event. It identifies the affected record.</div>
</section>
</li>
<li>
<section class="detail" id="value()">
<h3>value</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a>
</span><span class="return-type"><a href="RecordPart.html" title="interface in com.hazelcast.jet.cdc">RecordPart</a></span>&nbsp;<span class="member-name">value</span>()</div>
<div class="block">Returns the value part of the CDC event. It includes fields like the
 timestamp, operation, and database record data.
 <p>
 For <em>insert</em> and <em>update</em> operations the value describes
 the database record as it looks AFTER the event, so the latest image.
 <p>
 For <em>delete</em> operations the value describes the database record as
 it looked BEFORE the event, so the previous image.</div>
</section>
</li>
<li>
<section class="detail" id="toJson()">
<h3>toJson</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a>
</span><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="member-name">toJson</span>()</div>
<div class="block">Returns the raw JSON string from the CDC event underlying this <code>
 ChangeRecord</code>. You can use it if higher-level parsing (see other
 methods) fails for some reason (for example on some untested combination
 of database connector and version).</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ChangeRecord.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
<p class="legal-copy"><small>Copyright &#169; 2021 <a href="http://www.hazelcast.com/">Hazelcast, Inc.</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
